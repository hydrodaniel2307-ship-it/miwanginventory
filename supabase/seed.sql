-- MiWang Inventory Seed Data
-- Run this in Supabase SQL Editor to populate the dashboard with sample data.
-- Idempotent: uses ON CONFLICT DO NOTHING where possible.

-- ============================================================
-- Categories
-- ============================================================
INSERT INTO categories (id, name, description) VALUES
  ('a1000000-0000-0000-0000-000000000001', '식품',     '가공식품 및 신선식품'),
  ('a1000000-0000-0000-0000-000000000002', '음료',     '음료수 및 차류'),
  ('a1000000-0000-0000-0000-000000000003', '주류',     '맥주, 소주, 와인 등'),
  ('a1000000-0000-0000-0000-000000000004', '생활용품', '세제, 위생용품, 소모품')
ON CONFLICT (name) DO NOTHING;

-- ============================================================
-- Suppliers
-- ============================================================
INSERT INTO suppliers (id, name, contact_name, email, phone, address) VALUES
  ('b1000000-0000-0000-0000-000000000001', '한국식품유통', '김영수', 'kim@hkfood.co.kr', '02-1234-5678', '서울시 강남구 역삼동 123'),
  ('b1000000-0000-0000-0000-000000000002', '대한음료공급', '이미정', 'lee@dhbev.co.kr',  '02-2345-6789', '서울시 성동구 성수동 456'),
  ('b1000000-0000-0000-0000-000000000003', '생활마트도매', '박철호', 'park@smmart.co.kr', '031-345-6789', '경기도 용인시 수지구 789')
ON CONFLICT (id) DO NOTHING;

-- ============================================================
-- Products (10 items)
-- ============================================================
INSERT INTO products (id, name, sku, description, category_id, unit_price, cost_price) VALUES
  ('c1000000-0000-0000-0000-000000000001', '신라면 멀티팩',     'FD-001', '신라면 5개입 멀티팩',          'a1000000-0000-0000-0000-000000000001', 4500,  3200),
  ('c1000000-0000-0000-0000-000000000002', '즉석밥 12입',       'FD-002', '즉석밥 210g x 12개입',        'a1000000-0000-0000-0000-000000000001', 12000, 8500),
  ('c1000000-0000-0000-0000-000000000003', '참치캔 선물세트',   'FD-003', '참치캔 150g x 8개입',         'a1000000-0000-0000-0000-000000000001', 25000, 18000),
  ('c1000000-0000-0000-0000-000000000004', '제주 감귤주스 1L',  'BV-001', '제주산 100% 감귤주스',        'a1000000-0000-0000-0000-000000000002', 3500,  2200),
  ('c1000000-0000-0000-0000-000000000005', '아메리카노 캔커피', 'BV-002', '콜드브루 아메리카노 250ml',   'a1000000-0000-0000-0000-000000000002', 1500,  900),
  ('c1000000-0000-0000-0000-000000000006', '카스 맥주 500ml',   'AL-001', '카스 프레시 500ml 캔',        'a1000000-0000-0000-0000-000000000003', 2500,  1800),
  ('c1000000-0000-0000-0000-000000000007', '참이슬 소주 360ml', 'AL-002', '참이슬 후레쉬 360ml',         'a1000000-0000-0000-0000-000000000003', 1800,  1200),
  ('c1000000-0000-0000-0000-000000000008', '세탁세제 3L',       'HH-001', '고농축 액체세탁세제 3L',      'a1000000-0000-0000-0000-000000000004', 15000, 10000),
  ('c1000000-0000-0000-0000-000000000009', '키친타올 6롤',      'HH-002', '3겹 키친타올 150매 x 6롤',   'a1000000-0000-0000-0000-000000000004', 8000,  5500),
  ('c1000000-0000-0000-0000-000000000010', '물티슈 100매',      'HH-003', '캡형 물티슈 100매입',         'a1000000-0000-0000-0000-000000000004', 2500,  1600)
ON CONFLICT (sku) DO NOTHING;

-- ============================================================
-- Inventory (one row per product)
-- Some items are intentionally below min_quantity to trigger "재고 부족"
-- ============================================================
INSERT INTO inventory (id, product_id, quantity, min_quantity, location) VALUES
  ('d1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000001', 120, 30,  'A-1-01'),
  ('d1000000-0000-0000-0000-000000000002', 'c1000000-0000-0000-0000-000000000002',  45, 20,  'A-1-02'),
  ('d1000000-0000-0000-0000-000000000003', 'c1000000-0000-0000-0000-000000000003',   8, 15,  'A-2-01'),  -- LOW STOCK
  ('d1000000-0000-0000-0000-000000000004', 'c1000000-0000-0000-0000-000000000004',  60, 25,  'B-1-01'),
  ('d1000000-0000-0000-0000-000000000005', 'c1000000-0000-0000-0000-000000000005', 200, 50,  'B-1-02'),
  ('d1000000-0000-0000-0000-000000000006', 'c1000000-0000-0000-0000-000000000006', 150, 40,  'C-1-01'),
  ('d1000000-0000-0000-0000-000000000007', 'c1000000-0000-0000-0000-000000000007',  10, 30,  'C-1-02'),  -- LOW STOCK
  ('d1000000-0000-0000-0000-000000000008', 'c1000000-0000-0000-0000-000000000008',  35, 10,  'D-1-01'),
  ('d1000000-0000-0000-0000-000000000009', 'c1000000-0000-0000-0000-000000000009',   5, 15,  'D-1-02'),  -- LOW STOCK
  ('d1000000-0000-0000-0000-000000000010', 'c1000000-0000-0000-0000-000000000010',  80, 20,  'D-2-01')
ON CONFLICT (product_id) DO NOTHING;

-- ============================================================
-- Orders (8 orders spread across last 6 months: Sep 2025 - Feb 2026)
-- Mix of purchase (입고) and sale (출고), various statuses
-- ============================================================
INSERT INTO orders (id, order_number, type, status, supplier_id, total_amount, notes, order_date, created_at) VALUES
  -- Sep 2025: 1 purchase
  ('e1000000-0000-0000-0000-000000000001', 'PO-2025-001', 'purchase', 'delivered',
   'b1000000-0000-0000-0000-000000000001', 320000, '9월 식품 정기 발주',
   '2025-09-15 09:00:00+09', '2025-09-15 09:00:00+09'),

  -- Oct 2025: 1 sale
  ('e1000000-0000-0000-0000-000000000002', 'SO-2025-001', 'sale', 'delivered',
   NULL, 185000, '10월 거래처 납품',
   '2025-10-08 14:30:00+09', '2025-10-08 14:30:00+09'),

  -- Nov 2025: 1 purchase, 1 sale
  ('e1000000-0000-0000-0000-000000000003', 'PO-2025-002', 'purchase', 'delivered',
   'b1000000-0000-0000-0000-000000000002', 275000, '11월 음료 발주',
   '2025-11-05 10:00:00+09', '2025-11-05 10:00:00+09'),
  ('e1000000-0000-0000-0000-000000000004', 'SO-2025-002', 'sale', 'delivered',
   NULL, 420000, '11월 대량 출고',
   '2025-11-20 11:00:00+09', '2025-11-20 11:00:00+09'),

  -- Dec 2025: 1 purchase
  ('e1000000-0000-0000-0000-000000000005', 'PO-2025-003', 'purchase', 'delivered',
   'b1000000-0000-0000-0000-000000000003', 550000, '12월 연말 대량 입고',
   '2025-12-10 09:30:00+09', '2025-12-10 09:30:00+09'),

  -- Jan 2026: 1 sale
  ('e1000000-0000-0000-0000-000000000006', 'SO-2026-001', 'sale', 'shipped',
   NULL, 230000, '1월 출고',
   '2026-01-12 15:00:00+09', '2026-01-12 15:00:00+09'),

  -- Feb 2026: 1 purchase (pending), 1 sale (pending)
  ('e1000000-0000-0000-0000-000000000007', 'PO-2026-001', 'purchase', 'pending',
   'b1000000-0000-0000-0000-000000000001', 480000, '2월 정기 발주',
   '2026-02-10 09:00:00+09', '2026-02-10 09:00:00+09'),
  ('e1000000-0000-0000-0000-000000000008', 'SO-2026-002', 'sale', 'pending',
   NULL, 125000, '2월 출고 요청',
   '2026-02-14 16:00:00+09', '2026-02-14 16:00:00+09')
ON CONFLICT (order_number) DO NOTHING;

-- ============================================================
-- Order Items (1-3 items per order)
-- ============================================================
INSERT INTO order_items (id, order_id, product_id, quantity, unit_price, total_price) VALUES
  -- PO-2025-001 (Sep purchase: 식품 3종)
  ('f1000000-0000-0000-0000-000000000001', 'e1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000001', 50, 3200, 160000),
  ('f1000000-0000-0000-0000-000000000002', 'e1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000002', 10, 8500, 85000),
  ('f1000000-0000-0000-0000-000000000003', 'e1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000003',  5, 15000, 75000),

  -- SO-2025-001 (Oct sale: 음료 2종)
  ('f1000000-0000-0000-0000-000000000004', 'e1000000-0000-0000-0000-000000000002', 'c1000000-0000-0000-0000-000000000004', 30, 3500, 105000),
  ('f1000000-0000-0000-0000-000000000005', 'e1000000-0000-0000-0000-000000000002', 'c1000000-0000-0000-0000-000000000005', 40, 2000, 80000),

  -- PO-2025-002 (Nov purchase: 음료+주류)
  ('f1000000-0000-0000-0000-000000000006', 'e1000000-0000-0000-0000-000000000003', 'c1000000-0000-0000-0000-000000000004', 40, 2200, 88000),
  ('f1000000-0000-0000-0000-000000000007', 'e1000000-0000-0000-0000-000000000003', 'c1000000-0000-0000-0000-000000000006', 50, 1800, 90000),
  ('f1000000-0000-0000-0000-000000000008', 'e1000000-0000-0000-0000-000000000003', 'c1000000-0000-0000-0000-000000000007', 40, 1200, 48000),

  -- SO-2025-002 (Nov sale: 식품+생활)
  ('f1000000-0000-0000-0000-000000000009', 'e1000000-0000-0000-0000-000000000004', 'c1000000-0000-0000-0000-000000000001', 60, 4500, 270000),
  ('f1000000-0000-0000-0000-000000000010', 'e1000000-0000-0000-0000-000000000004', 'c1000000-0000-0000-0000-000000000008', 10, 15000, 150000),

  -- PO-2025-003 (Dec purchase: 대량 - 주류+생활)
  ('f1000000-0000-0000-0000-000000000011', 'e1000000-0000-0000-0000-000000000005', 'c1000000-0000-0000-0000-000000000006', 100, 1800, 180000),
  ('f1000000-0000-0000-0000-000000000012', 'e1000000-0000-0000-0000-000000000005', 'c1000000-0000-0000-0000-000000000008', 15, 10000, 150000),
  ('f1000000-0000-0000-0000-000000000013', 'e1000000-0000-0000-0000-000000000005', 'c1000000-0000-0000-0000-000000000009', 20, 5500, 110000),

  -- SO-2026-001 (Jan sale: 음료+식품)
  ('f1000000-0000-0000-0000-000000000014', 'e1000000-0000-0000-0000-000000000006', 'c1000000-0000-0000-0000-000000000005', 80, 1500, 120000),
  ('f1000000-0000-0000-0000-000000000015', 'e1000000-0000-0000-0000-000000000006', 'c1000000-0000-0000-0000-000000000002', 10, 12000, 120000),

  -- PO-2026-001 (Feb purchase pending: 식품+주류+생활)
  ('f1000000-0000-0000-0000-000000000016', 'e1000000-0000-0000-0000-000000000007', 'c1000000-0000-0000-0000-000000000001', 80, 3200, 256000),
  ('f1000000-0000-0000-0000-000000000017', 'e1000000-0000-0000-0000-000000000007', 'c1000000-0000-0000-0000-000000000007', 60, 1200, 72000),
  ('f1000000-0000-0000-0000-000000000018', 'e1000000-0000-0000-0000-000000000007', 'c1000000-0000-0000-0000-000000000010', 50, 1600, 80000),

  -- SO-2026-002 (Feb sale pending: 생활용품)
  ('f1000000-0000-0000-0000-000000000019', 'e1000000-0000-0000-0000-000000000008', 'c1000000-0000-0000-0000-000000000009', 10, 8000, 80000),
  ('f1000000-0000-0000-0000-000000000020', 'e1000000-0000-0000-0000-000000000008', 'c1000000-0000-0000-0000-000000000010', 30, 2500, 75000)
ON CONFLICT (id) DO NOTHING;
